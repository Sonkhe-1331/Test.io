"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([["default-src_app_layouts_owner-layout_pages_room_room_component_ts"],{60071:function(R,b,u){u.d(b,{G:function(){return Z}});var d=u(54460),Z=function(){function p(){}return p.prototype.transform=function(m,t){return m?t?(t=t.toLowerCase(),m.filter(function(g){return JSON.stringify(g).toLowerCase().includes(t)})):m:null},p.\u0275fac=function(t){return new(t||p)},p.\u0275pipe=d.Yjl({name:"filter",type:p,pure:!0}),p}()},65181:function(R,b,u){u.d(b,{Y:function(){return D}});var d=u(36490),Z=u(19909),p=u.n(Z),m=u(68508),t=u(54460),g=u(25594),_=u(62107),q=u(2487),N=u(63799),w=u(79749),h=u(23396),y=u(81883);function O(o,n){if(1&o&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&o){var e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.name," ")}}var C=function(){function o(n,e,a,l,i){this.dialog=n,this.fb=e,this.dialogRef=a,this.data=l,this.roomService=i,this.roomsType=[],this.isEditable=!1}return o.prototype.ngOnInit=function(){return function(o,n,e,a){return new(e||(e=Promise))(function(i,s){function f(c){try{r(a.next(c))}catch(T){s(T)}}function v(c){try{r(a.throw(c))}catch(T){s(T)}}function r(c){c.done?i(c.value):function(i){return i instanceof e?i:new e(function(s){s(i)})}(c.value).then(f,v)}r((a=a.apply(o,n||[])).next())})}(this,void 0,void 0,function(){var n;return function(o,n){var a,l,i,s,e={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function f(r){return function(c){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,l&&(i=2&r[0]?l.return:r[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,r[1])).done)return i;switch(l=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return e.label++,{value:r[1],done:!1};case 5:e.label++,l=r[1],r=[0];continue;case 7:r=e.ops.pop(),e.trys.pop();continue;default:if(!(i=(i=e.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){e=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){e.label=r[1];break}if(6===r[0]&&e.label<i[1]){e.label=i[1],i=r;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(r);break}i[2]&&e.ops.pop(),e.trys.pop();continue}r=n.call(o,e)}catch(c){r=[6,c],l=0}finally{a=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,function(e){switch(e.label){case 0:return this.isEditable=n=this.data.edit,[4,this.getRoomsTypes()];case 1:return e.sent(),console.log(this.data),this.formCentre=this.fb.group({roomNumber:["",m.kI.required],roomName:["",m.kI.required],typeId:["",m.kI.required]}),1==n&&this.populateForm(this.data.room),[2]}})})},o.prototype.onSubmit=function(){var n=this;console.log(this.formCentre.valid),this.formCentre.valid&&(console.error(this.formCentre.valid),1==this.data.edit?this.roomService.updateRoom(this.formCentre.value,this.data.centre.CentreId).subscribe(function(e){n.Close()}):this.roomService.AddRoom(this.formCentre.value).subscribe(function(e){console.error(e),n.Close()},function(e){console.error(e)}))},o.prototype.getRoomsTypes=function(){var n=this;this.roomService.getRoomsTypes().subscribe(function(e){console.log(e),n.roomsType=e})},o.prototype.populateForm=function(n){this.formCentre.patchValue({roomName:n.roomName,roomNumber:n.roomNumber,typeId:n.typeId})},o.prototype.Close=function(){this.dialog.closeAll()},o.\u0275fac=function(e){return new(e||o)(t.Y36(d.uw),t.Y36(m.qu),t.Y36(d.so),t.Y36(d.WI),t.Y36(g.X))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-RoomDialog"]],decls:25,vars:3,consts:[["mat-dialog-title","","align","center"],["autocomplete","off",1,"example-form",3,"formGroup","submit"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","ex. Midrand c","formControlName","roomNumber"],["matInput","","placeholder","","formControlName","roomName"],["appearance","fill"],["formControlName","typeId","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-stroked-button","","type","submit"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(e,a){1&e&&(t.TgZ(0,"h3",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("submit",function(){return a.onSubmit()}),t._UZ(3,"div",2),t.TgZ(4,"div",2),t.TgZ(5,"mat-form-field",3),t.TgZ(6,"mat-label"),t._uU(7,"Room Number"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"mat-form-field",3),t.TgZ(10,"mat-label"),t._uU(11,"Room Name"),t.qZA(),t._UZ(12,"input",5),t.qZA(),t.TgZ(13,"mat-form-field",6),t.TgZ(14,"mat-label"),t._uU(15,"Choose Room Type"),t.qZA(),t.TgZ(16,"mat-select",7),t.TgZ(17,"mat-option"),t._uU(18,"--"),t.qZA(),t.YNc(19,O,2,2,"mat-option",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",9),t.TgZ(21,"button",10),t._uU(22,"Confirm"),t.qZA(),t.TgZ(23,"button",11),t.NdJ("click",function(){return a.Close()}),t._uU(24,"Cancel"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",a.isEditable?"Editable":"Add New Room"," "),t.xp6(1),t.Q6J("formGroup",a.formCentre),t.xp6(17),t.Q6J("ngForOf",a.roomsType))},directives:[m._Y,m.JL,m.sg,_.KE,_.hX,q.Nt,m.Fj,m.JJ,m.u,N.gD,m.Q7,w.ey,h.sg,y.lW],styles:["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJSb29tRGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"]}),o}(),U=u(22437),Y=u(60071),x=["headers"],F=["rows"];function S(o,n){1&o&&t.GkF(0)}function M(o,n){1&o&&t.GkF(0)}var A=function(o){return{$implicit:o}};function X(o,n){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,M,1,0,"ng-container",3),t.qZA()),2&o){var e=n.$implicit,a=t.oxw(),l=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",a.rows||l)("ngTemplateOutletContext",t.VKq(2,A,e))}}function L(o,n){if(1&o&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&o){var e=n.$implicit;t.xp6(1),t.Oqu(e.key)}}function z(o,n){1&o&&(t.YNc(0,L,2,1,"th",4),t.ALo(1,"keyvalue")),2&o&&t.Q6J("ngForOf",t.lcZ(1,1,n.$implicit[0]))}function k(o,n){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){var e=n.$implicit;t.xp6(1),t.Oqu(e.value)}}function j(o,n){1&o&&(t.YNc(0,k,2,1,"td",4),t.ALo(1,"keyvalue")),2&o&&t.Q6J("ngForOf",t.lcZ(1,1,n.$implicit))}var W=function(){function o(){this.query=""}return o.prototype.ngOnInit=function(){},o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-table"]],contentQueries:function(e,a,l){if(1&e&&(t.Suo(l,x,5),t.Suo(l,F,5)),2&e){var i=void 0;t.iGM(i=t.CRH())&&(a.headers=i.first),t.iGM(i=t.CRH())&&(a.rows=i.first)}},inputs:{data:"data"},decls:11,vars:9,consts:[["type","text","placeholder","Search","id","listSearch",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"table"],[1,"text-primary"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],["defaultHeaderTemplate",""],["defaultRowTemplate",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"input",0),t.NdJ("ngModelChange",function(s){return a.query=s}),t.qZA(),t.TgZ(1,"table",1),t.TgZ(2,"thead",2),t.YNc(3,S,1,0,"ng-container",3),t.qZA(),t.TgZ(4,"tbody"),t.YNc(5,X,2,4,"tr",4),t.ALo(6,"filter"),t.qZA(),t.qZA(),t.YNc(7,z,2,3,"ng-template",null,5,t.W1O),t.YNc(9,j,2,3,"ng-template",null,6,t.W1O)),2&e){var l=t.MAs(8);t.Q6J("ngModel",a.query),t.xp6(3),t.Q6J("ngTemplateOutlet",a.headers||l)("ngTemplateOutletContext",t.VKq(7,A,a.data)),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,4,a.data,a.query))}},directives:[m.Fj,m.JJ,m.On,h.tP,h.sg],pipes:[Y.G,h.Nd],styles:["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"]}),o}();function G(o,n){1&o&&(t.TgZ(0,"th"),t._uU(1,"Room Number"),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Room Name"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Type"),t.qZA(),t._UZ(6,"th"))}function Q(o,n){if(1&o){var e=t.EpF();t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t.TgZ(7,"button",13),t.NdJ("click",function(){var s=t.CHM(e).$implicit;return t.oxw().removeRoom(s.id)}),t.TgZ(8,"mat-icon"),t._uU(9,"restore_from_trash"),t.qZA(),t.qZA(),t.TgZ(10,"button",13),t.NdJ("click",function(){var s=t.CHM(e).$implicit;return t.oxw().editRoom(s)}),t.TgZ(11,"mat-icon"),t._uU(12,"edit"),t.qZA(),t.qZA(),t.qZA()}if(2&o){var a=n.$implicit;t.xp6(1),t.Oqu(a.RoomNumber),t.xp6(2),t.Oqu(a.RoomName),t.xp6(2),t.Oqu(a.RoomType)}}var D=function(){function o(n,e){this.roomService=n,this.dialog=e,this.rooms=[]}return o.prototype.ngOnInit=function(){this.getRooms()},o.prototype.getRooms=function(){var n=this;this.roomService.getRooms().subscribe(function(e){console.log(e),n.rooms=e})},o.prototype.addRoom=function(){var n=this,e=new d.vA;e.disableClose=!1,e.width="20rem",e.height="auto",e.data={add:"yes",edit:!1},this.dialog.open(C,e).afterClosed().subscribe(function(l){n.getRooms()})},o.prototype.editRoom=function(n){var e=this,a=new d.vA;a.disableClose=!1,a.width="20rem",a.height="auto",a.data={add:"yes",edit:!0,room:{roomName:n.RoomName,roomNumber:n.RoomNumber,typeId:1}},this.dialog.open(C,a).afterClosed().subscribe(function(i){e.getRooms()})},o.prototype.removeRoom=function(n){var e=this;p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff0000",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(a){a.isConfirmed&&e.roomService.deleteRoom(n).subscribe(function(l){p().fire("Deleted!","Your file has been deleted.","success")},function(l){})})},o.\u0275fac=function(e){return new(e||o)(t.Y36(g.X),t.Y36(d.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-room"]],decls:20,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],["mat-icon-button","",1,"addbutton",2,"font-size","xx-large",3,"click"],[1,"card-body"],[2,"background-image","url('./assets/logo-only.png')",3,"data"],["headers",""],["rows",""],["mat-button","","color","danger",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"h4",6),t._uU(8,"Hotel rooms"),t.qZA(),t.TgZ(9,"p",7),t._uU(10," List of rooms within the hotel"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return a.addRoom()}),t.TgZ(12,"mat-icon"),t._uU(13,"add"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"app-table",10),t.YNc(16,G,7,0,"ng-template",null,11,t.W1O),t.YNc(18,Q,13,3,"ng-template",null,12,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(15),t.Q6J("data",a.rooms))},directives:[y.lW,U.Hw,W],styles:["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyb29tLmNvbXBvbmVudC5zY3NzIn0= */"]}),o}()}}]);
//# sourceMappingURL=default-src_app_layouts_owner-layout_pages_room_room_component_ts.4016317770de37e973a6.js.map